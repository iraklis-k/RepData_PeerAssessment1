---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---

## Load and preprocess the data
Read the data file and print the first few lines for inspection. 
```{r}
data <- read.csv("activity.csv")
head(data)
```

There are missing values, so index the vector accordingly. 
```{r}
bad <- is.nan(data$steps)
```

Combine the date and interval variables into an R time object. Since strptime() cannot handle the hhmm format we will need to

1. Add leading zeros to the interval variable, 
1. Split it up into two segments with substr(), 
1. Feed into strptime() as %h%m (but format as POSIXlt), and 
1. Print the top of the array for inspection. 

```{r}
# Four element time format array: 
time <- sprintf('%04i', data$interval)
datetime <- as.POSIXlt(strptime(paste(data$date, 
            substr(time,1,2), substr(time,3,4)), 
            '%Y-%m-%d %H %M', tz="EST5EDT"))
head(datetime)
```

How many days do our data cover? 
```{r}
difftime(tail(datetime, n=1), datetime[1])
```

## What is mean total number of steps taken per day?

First we need to index the array per day. 

```{r}
dayIndex <- seq(datetime[1], to=tail(datetime, n=1), by='day')
head(dayIndex)
```

And now count up the steps by day. A for loop is the quickest way I can think of but there is probably a smarter way. First start a vector

```{r}
daySteps <- numeric(length(dayIndex))

for(i in 2:length(dayIndex)) {
    thisDay <- (datetime > dayIndex[i-1] & datetime < dayIndex[i])
    daySteps[i] = sum(data$steps[thisDay], na.rm=TRUE)
}
print(daySteps)
```

**The daily integer mean and median numbers of steps are:**

```{r}
round(mean(daySteps)); round(median(daySteps))
```

Now let's make a histogram with enough breaks to show the NA bar. 

```{r}
hist(daySteps, breaks=18)
```

## What is the average daily activity pattern?

Produce a plot of steps per hour


## Inputing missing values



## Are there differences in activity patterns between weekdays and weekends?

Produce an index of weekends instead of two separate factors. 
```{r}
wkend <- (weekdays(datetime) == "Sunday" | 
            weekdays(datetime) == "Saturday")
```
